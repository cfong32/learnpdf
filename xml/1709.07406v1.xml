<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE pdf2xml SYSTEM "pdf2xml.dtd">

<pdf2xml producer="poppler" version="0.68.0">
<page number="1" position="absolute" top="0" left="0" height="1188" width="918">
	<fontspec id="0" size="23" family="Times" color="#000000"/>
	<fontspec id="1" size="15" family="Times" color="#000000"/>
	<fontspec id="2" size="12" family="Times" color="#000000"/>
	<fontspec id="3" size="14" family="Times" color="#000000"/>
	<fontspec id="4" size="11" family="Times" color="#000000"/>
	<fontspec id="5" size="9" family="Times" color="#000000"/>
	<fontspec id="6" size="8" family="Times" color="#000000"/>
	<fontspec id="7" size="6" family="Times" color="#000000"/>
	<fontspec id="8" size="28" family="Times" color="#7f7f7f"/>
<text top="147" left="114" width="691" height="24" font="0">Having your cake and eating it too: Scripted workflows for</text>
<text top="177" left="340" width="237" height="24" font="0">image manipulation</text>
<text top="217" left="198" width="181" height="23" font="1">Paul A. Thompson, Ph.D</text>
<text top="238" left="206" width="165" height="19" font="2">Sanford Research &amp; Health</text>
<text top="256" left="171" width="235" height="19" font="2">University of South Dakota-Vermillion</text>
<text top="274" left="182" width="212" height="19" font="2">paul.thompson@sanfordhealth.org</text>
<text top="217" left="558" width="148" height="23" font="1">Norm Matloff, Ph.D.</text>
<text top="238" left="539" width="184" height="19" font="2">University of California-Davis</text>
<text top="256" left="560" width="142" height="19" font="2">nsmatloff@ucdavis.edu</text>
<text top="305" left="259" width="57" height="23" font="1">Alex Fu</text>
<text top="326" left="225" width="127" height="19" font="2">Princeton University</text>
<text top="344" left="232" width="111" height="19" font="2">aafu@ucdavis.edu</text>
<text top="305" left="593" width="74" height="23" font="1">Ariel Shin</text>
<text top="326" left="538" width="184" height="19" font="2">University of California-Davis</text>
<text top="344" left="566" width="127" height="19" font="2">arishin@ucdavis.edu</text>
<text top="375" left="108" width="87" height="15" font="3">ABSTRACT</text>
<text top="395" left="108" width="333" height="17" font="4">The reproducibility issue in science has come under increased</text>
<text top="411" left="108" width="333" height="17" font="4">scrutiny. One consistent suggestion lies in the use of scripted</text>
<text top="427" left="108" width="333" height="17" font="4">methods or workflows for data analysis. Image analysis is one</text>
<text top="444" left="108" width="335" height="17" font="4">area in science in which little can be done in scripted methods.</text>
<text top="460" left="108" width="333" height="17" font="4">The SWIIM Project (Scripted Workflows to Improve Image</text>
<text top="480" left="108" width="12" height="13" font="4">M</text>
<text top="477" left="120" width="323" height="17" font="4">anipulation) is designed to generate workflows from pop-</text>
<text top="493" left="108" width="333" height="17" font="4">ular image manipulation tools. In the project, 2 approaches</text>
<text top="510" left="108" width="333" height="17" font="4">are being taken to construct workflows in the image analysis</text>
<text top="526" left="108" width="333" height="17" font="4">area. First, the open-source tool GIMP is being enhanced to</text>
<text top="543" left="108" width="333" height="17" font="4">produce an active log (which can be run on a stand-alone basis</text>
<text top="559" left="108" width="333" height="17" font="4">to perform the same manipulation). Second, the R system</text>
<text top="575" left="108" width="333" height="17" font="4">Shiny tool is being used to construct a graphical user interface</text>
<text top="592" left="108" width="333" height="17" font="4">(GUI) which works with EBImage code to modify images, and</text>
<text top="608" left="108" width="335" height="17" font="4">to produce an active log which can perform the same oper-</text>
<text top="625" left="108" width="333" height="17" font="4">ations. This process has been successful to date, but is not</text>
<text top="641" left="108" width="335" height="17" font="4">complete. The basic method for each component is discussed,</text>
<text top="658" left="108" width="153" height="17" font="4">and example code is shown.</text>
<text top="684" left="108" width="129" height="11" font="5">ACM Reference format:</text>
<text top="696" left="108" width="333" height="16" font="5">Paul A. Thompson, Ph.D, Norm Matloff, Ph.D., Alex Fu, and Ariel</text>
<text top="711" left="108" width="333" height="16" font="5">Shin. 2016. Having your cake and eating it too: Scripted workflows for</text>
<text top="726" left="108" width="334" height="16" font="5">image manipulation. In Proceedings of ACM Conference, Washington,</text>
<text top="744" left="108" width="171" height="11" font="5">DC, USA, July 2017 (Conference’17),</text>
<text top="741" left="282" width="39" height="16" font="5"><a href="xml/1709.07406v1.html#7">7 </a>pages.</text>
<text top="756" left="108" width="159" height="16" font="5">DOI: 10.1145/nnnnnnn.nnnnnnn</text>
<text top="791" left="108" width="5" height="14" font="6"><a href="xml/1709.07406v1.html#1">1</a></text>
<text top="827" left="108" width="8" height="15" font="3">1</text>
<text top="827" left="133" width="129" height="15" font="3">INTRODUCTION</text>
<text top="851" left="108" width="21" height="15" font="3">1.1</text>
<text top="851" left="145" width="158" height="15" font="3">Workflows in science</text>
<text top="870" left="108" width="334" height="17" font="4">A scientific workflow is a tool to structure and regularize a</text>
<text top="887" left="108" width="311" height="17" font="4">process <a href="xml/1709.07406v1.html#7">([12] [21] [15]). </a>A good description is as follows:</text>
<text top="915" left="108" width="4" height="11" font="7">1</text>
<text top="917" left="112" width="330" height="14" font="6">The authors would like the acknowledge the contributions of Douglas Cromey,</text>
<text top="929" left="108" width="260" height="14" font="6">MS, University of Arizona, to the ideas in the SWIIM project.</text>
<text top="957" left="108" width="333" height="14" font="6">Permission to make digital or hard copies of all or part of this work for personal</text>
<text top="969" left="108" width="333" height="14" font="6">or classroom use is granted without fee provided that copies are not made</text>
<text top="981" left="108" width="333" height="14" font="6">or distributed for profit or commercial advantage and that copies bear this</text>
<text top="993" left="108" width="333" height="14" font="6">notice and the full citation on the first page. Copyrights for components of this</text>
<text top="1005" left="108" width="333" height="14" font="6">work owned by others than ACM must be honored. Abstracting with credit is</text>
<text top="1017" left="108" width="333" height="14" font="6">permitted. To copy otherwise, or republish, to post on servers or to redistribute</text>
<text top="1029" left="108" width="333" height="14" font="6">to lists, requires prior specific permission and/or a fee. Request permissions</text>
<text top="1041" left="108" width="120" height="14" font="6">from permissions@acm.org.</text>
<text top="1057" left="108" width="154" height="10" font="6">Conference’17, Washington, DC, USA</text>
<text top="1067" left="107" width="217" height="14" font="6">© 2016 ACM. 978-x-xxxx-xxxx-x/YY/MM...$15.00</text>
<text top="1079" left="108" width="139" height="14" font="6">DOI: 10.1145/nnnnnnn.nnnnnnn</text>
<text top="374" left="523" width="241" height="17" font="4">“Scientific workflows attempt to automate</text>
<text top="390" left="523" width="243" height="17" font="4">repetitive computation and analysis by chain-</text>
<text top="407" left="523" width="241" height="17" font="4">ing together related processes. Automating</text>
<text top="423" left="523" width="243" height="17" font="4">repetitive time-consuming tasks allows scien-</text>
<text top="440" left="523" width="241" height="17" font="4">tists to keep pace with ever-growing volumes</text>
<text top="456" left="523" width="241" height="17" font="4">of data. Furthermore, workflows can aid in</text>
<text top="473" left="523" width="241" height="17" font="4">the reproducibility of scientific computations</text>
<text top="489" left="523" width="243" height="17" font="4">by providing a formal declaration of an analy-</text>
<text top="506" left="523" width="241" height="17" font="4">sis. Reproducibility is central to the scientific</text>
<text top="522" left="523" width="241" height="17" font="4">method, and detailed workflow provenance</text>
<text top="538" left="523" width="243" height="17" font="4">in- formation ensures an analysis can be re-</text>
<text top="555" left="523" width="160" height="17" font="4">produced and extended.” <a href="xml/1709.07406v1.html#7">[21]</a></text>
<text top="577" left="476" width="334" height="17" font="4">Workflows have been the subject of much investigation. They</text>
<text top="594" left="477" width="333" height="17" font="4">take many different forms. Some workflows are defined by</text>
<text top="610" left="477" width="333" height="17" font="4">an interactive process, while others are defined by scripts. In</text>
<text top="626" left="477" width="334" height="17" font="4">using a scripted workflow, the process which the workflow</text>
<text top="643" left="477" width="309" height="17" font="4">performs becomes public, transparent, and reproducible.</text>
<text top="679" left="477" width="21" height="15" font="3">1.2</text>
<text top="679" left="514" width="117" height="15" font="3">Reproducibility</text>
<text top="698" left="477" width="333" height="17" font="4">Reproducible research methods are increasingly important</text>
<text top="715" left="477" width="333" height="17" font="4">in <a href="xml/1709.07406v1.html#7">science([11][18][19][23][32][31][39][42]). </a>“Reproducibility</text>
<text top="731" left="477" width="333" height="17" font="4">of research” is defined by the different issues which result in</text>
<text top="748" left="477" width="333" height="17" font="4">problems obtaining the same results from a study. Are the</text>
<text top="764" left="477" width="330" height="17" font="4">results the same from a second processing of the same data?</text>
<text top="780" left="492" width="318" height="17" font="4">“Getting the same result” can mean different things. The</text>
<text top="797" left="477" width="333" height="17" font="4">most specific is seemingly the simplest: When reanalysing</text>
<text top="813" left="477" width="335" height="17" font="4">a given dataset using the same methods, can identical out-</text>
<text top="830" left="477" width="333" height="17" font="4">come values (test statistics, p values, summary statistics) be</text>
<text top="846" left="477" width="335" height="17" font="4">obtained? This may be termed “data reproducibility”. A some-</text>
<text top="863" left="476" width="334" height="17" font="4">what different form of reproducibility may involve running</text>
<text top="879" left="477" width="335" height="17" font="4">the study again with different subjects to examine the “scien-</text>
<text top="895" left="477" width="333" height="17" font="4">tific reproducibility” of the study. Each type of reproducibility</text>
<text top="912" left="477" width="335" height="17" font="4">examines the different aspects to the degree to which the re-</text>
<text top="928" left="477" width="333" height="17" font="4">sults of a study are repeatable. Science involves determining a</text>
<text top="945" left="477" width="335" height="17" font="4">process which can be repeated and produce the same results,</text>
<text top="961" left="477" width="271" height="17" font="4">and thus reproducibility is the essence of science.</text>
<text top="978" left="492" width="318" height="17" font="4">Obtaining the same result from a given set of data sounds</text>
<text top="994" left="477" width="333" height="17" font="4">obvious and trivial, but there are a number of reasons why</text>
<text top="1011" left="477" width="333" height="17" font="4">this can be problematic. First, certain types of analyses are</text>
<text top="1027" left="477" width="333" height="17" font="4">not closed-form but rather are iterative and approximating</text>
<text top="1043" left="477" width="333" height="17" font="4">(with a loss function and convergence criteria). Unless the</text>
<text top="1060" left="477" width="333" height="17" font="4">same convergence criteria, start values, and step sizes are</text>
<text top="1076" left="477" width="333" height="17" font="4">used, it is entirely possible to get different outcomes. This</text>
<text top="835" left="48" width="0" height="27" font="8">arXiv:1709.07406v1  [eess.IV]  29 Aug 2017</text>
</page>
<page number="2" position="absolute" top="0" left="0" height="1188" width="918">
<text top="112" left="53" width="265" height="12" font="4">Conference’17, July 2017, Washington, DC, USA</text>
<text top="112" left="724" width="86" height="12" font="4">Thompson et al</text>
<text top="149" left="108" width="333" height="17" font="4">is particularly true in cases in which the outcome surface is</text>
<text top="165" left="108" width="333" height="17" font="4">relatively flat. Second, analyses may be done in an interactive</text>
<text top="182" left="108" width="333" height="17" font="4">manner, and thus the tracking of the exact processes involved</text>
<text top="198" left="108" width="333" height="17" font="4">can sometimes be difficult. When interactive methods are</text>
<text top="215" left="108" width="333" height="17" font="4">used, it is possible that steps are forgotten, or that steps are</text>
<text top="231" left="108" width="333" height="17" font="4">done in different orders, or that the specific details in a step</text>
<text top="248" left="108" width="333" height="17" font="4">are not correctly noted. Third, the version of software used</text>
<text top="264" left="108" width="333" height="17" font="4">for analysis may change from one use to the next. Newer</text>
<text top="281" left="108" width="333" height="17" font="4">versions can include different convergence criteria or even</text>
<text top="297" left="108" width="333" height="17" font="4">different methods for estimation. Fourth, the persons using</text>
<text top="313" left="108" width="333" height="17" font="4">the software can be different, and use the software in different</text>
<text top="330" left="108" width="334" height="17" font="4">ways. In the well-known Potti et al case, the original data were</text>
<text top="346" left="108" width="333" height="17" font="4">analyzed by a physician who was not well trained in proper</text>
<text top="363" left="108" width="333" height="17" font="4">data analysis, proper data storage, or proper use of training</text>
<text top="379" left="108" width="335" height="17" font="4">and validation samples <a href="xml/1709.07406v1.html#7">([1] [33]). </a>Later analysis by better-</text>
<text top="396" left="108" width="333" height="17" font="4">trained bioinformatics scientists found many errors, including</text>
<text top="412" left="108" width="319" height="17" font="4">changes in the version of the main data analysis tool <a href="xml/1709.07406v1.html#7">([1]).</a></text>
<text top="428" left="123" width="318" height="17" font="4">In producing scientific articles, the data must be structured</text>
<text top="445" left="108" width="335" height="17" font="4">for the analysis first. This is the “data management” process,</text>
<text top="461" left="108" width="335" height="17" font="4">and is often a key step in the process. Values are corrected.</text>
<text top="478" left="108" width="333" height="17" font="4">Occasionally data are removed. The statistical analysis which</text>
<text top="494" left="108" width="333" height="17" font="4">examines the data is next performed. Again, this must be</text>
<text top="511" left="108" width="333" height="17" font="4">carefully documented to produce valid outcomes <a href="xml/1709.07406v1.html#7">([31] [5] [38]</a></text>
<text top="527" left="108" width="335" height="17" font="4"><a href="xml/1709.07406v1.html#7">[43]). </a>Scripted methods (i.e., analysis performed using pro-</text>
<text top="544" left="108" width="333" height="17" font="4">grams of computer code) are necessary for reproducible results</text>
<text top="560" left="108" width="333" height="17" font="4"><a href="xml/1709.07406v1.html#7">([32] [5] [38] [30]). </a>The code can be inspected, transfered to</text>
<text top="576" left="108" width="333" height="17" font="4">others, used on more than one project, and modified easily. It</text>
<text top="593" left="108" width="272" height="17" font="4">also functions as the memory of the proje<a href="xml/1709.07406v1.html#7">ct([41]).</a></text>
<text top="609" left="123" width="318" height="17" font="4">The use of analysis code also is “transparent” or able to be</text>
<text top="626" left="108" width="333" height="17" font="4">inspected by others. Transparent, scripted code ensures that</text>
<text top="642" left="108" width="335" height="17" font="4">the author of a scientific document can produce the same re-</text>
<text top="659" left="108" width="335" height="17" font="4">sults later, and can demonstrate to others (e.g., journal editors,</text>
<text top="675" left="108" width="335" height="17" font="4">colleagues) exactly how the published information was cre-</text>
<text top="691" left="108" width="333" height="17" font="4">ated from source materials. In science, repeating an analysis</text>
<text top="708" left="108" width="165" height="17" font="4">must produce the same result.</text>
<text top="751" left="108" width="21" height="15" font="3">1.3</text>
<text top="751" left="145" width="151" height="15" font="3">Image manipulation</text>
<text top="771" left="108" width="335" height="17" font="4">Scientific image manipulation is a key part of many areas,</text>
<text top="787" left="108" width="333" height="17" font="4">particularly basic biology and chemistry <a href="xml/1709.07406v1.html#7">([25] [4] [8] [24] [34]</a></text>
<text top="804" left="108" width="335" height="17" font="4"><a href="xml/1709.07406v1.html#7">[36] [35]). </a>It is the process of preparing images for publication.</text>
<text top="820" left="108" width="333" height="17" font="4">Scientific journals have clear and well-defined requirements</text>
<text top="837" left="108" width="333" height="17" font="4">for proper preparation of images <a href="xml/1709.07406v1.html#7">([25] [8] [36]). </a>Such scientific</text>
<text top="853" left="108" width="260" height="17" font="4">image manipulation follows general guidelines:</text>
<text top="882" left="132" width="294" height="17" font="4">(1) specific features may not be changed or modified;</text>
<text top="899" left="132" width="309" height="17" font="4">(2) adjustments to the full image (brightness, contrast</text>
<text top="915" left="154" width="197" height="17" font="4">color values) are usually acceptable;</text>
<text top="932" left="132" width="309" height="17" font="4">(3) if separate images are grouped together, this must be</text>
<text top="948" left="154" width="67" height="17" font="4">explicit; and</text>
<text top="965" left="132" width="309" height="17" font="4">(4) the original image must be retained and be available</text>
<text top="981" left="154" width="117" height="17" font="4">for examination. <a href="xml/1709.07406v1.html#7">[25]</a></text>
<text top="1011" left="108" width="336" height="17" font="4">There is a clear and well defined difference between prepara-</text>
<text top="1027" left="108" width="333" height="17" font="4">tion of scientific images and preparation of æsthetic images</text>
<text top="1043" left="108" width="336" height="17" font="4"><a href="xml/1709.07406v1.html#7">([7] [6] [3]). </a>Methods acceptable for æsthetic image prepara-</text>
<text top="1060" left="108" width="333" height="17" font="4">tion include many techniques which would not be allowed in</text>
<text top="1076" left="108" width="94" height="17" font="4">scientific images.</text>
<text top="149" left="492" width="318" height="17" font="4">Image processing is primarily done using interactive tools</text>
<text top="165" left="477" width="334" height="17" font="4">such as Adobe P<a href="xml/1709.07406v1.html#7">hotoshop([16]) </a>ImageJ,<a href="xml/1709.07406v1.html#7">([9]) </a>and GIMP<a href="xml/1709.07406v1.html#7">.([40])</a></text>
<text top="182" left="477" width="334" height="17" font="4">These programs can read in images, modify them in many</text>
<text top="198" left="476" width="336" height="17" font="4">ways, and save the results. It is sometimes difficult to re-</text>
<text top="215" left="477" width="333" height="17" font="4">produce the interactive process of producing an image for a</text>
<text top="231" left="477" width="333" height="17" font="4">publication from a source image. This is due in part to the</text>
<text top="248" left="477" width="333" height="17" font="4">use of the computer mouse, and partly due to the difficulty of</text>
<text top="264" left="477" width="138" height="17" font="4">remembering operations.</text>
<text top="281" left="492" width="320" height="17" font="4">When images are prepared for scientific presentation, re-</text>
<text top="297" left="477" width="335" height="17" font="4">producibility problems are common. The difficulties in repro-</text>
<text top="313" left="477" width="333" height="17" font="4">ducibility, due to the interactive nature of the process, partly</text>
<text top="330" left="477" width="333" height="17" font="4">arise due to the “semi-continuous” nature of the process. When</text>
<text top="346" left="477" width="335" height="17" font="4">cropping (selecting a small part of the picture for presenta-</text>
<text top="363" left="477" width="333" height="17" font="4">tion), a selection is made using the mouse. Although this is</text>
<text top="379" left="477" width="333" height="17" font="4">done using positions which are numbers, the scale is large and</text>
<text top="396" left="477" width="333" height="17" font="4">the position is difficult to remember exactly. When increasing</text>
<text top="412" left="477" width="333" height="17" font="4">brightness-contrast, the increases are done using a scale which</text>
<text top="428" left="477" width="333" height="17" font="4">emphasizes relative amounts; the exact value is a number, but</text>
<text top="445" left="477" width="333" height="17" font="4">the number is likely not remembered exactly. While a person</text>
<text top="461" left="477" width="335" height="17" font="4">could remember such values, the exact numbers are quite dif-</text>
<text top="478" left="477" width="333" height="17" font="4">ficult to remember, and the process is not condusive to simple</text>
<text top="494" left="477" width="67" height="17" font="4">recollection.</text>
<text top="511" left="492" width="318" height="17" font="4">Image fraud is a serious and pressing issue in <a href="xml/1709.07406v1.html#7">science([4]</a></text>
<text top="527" left="477" width="333" height="17" font="4"><a href="xml/1709.07406v1.html#7">[24] [35] [27]). </a>Image fraud includes a number of processes</text>
<text top="544" left="477" width="336" height="17" font="4">(e.g., image reuse, improper preparation, improper combina-</text>
<text top="560" left="477" width="335" height="17" font="4">tion of images). The “Retraction Watch” blog provides a con-</text>
<text top="576" left="477" width="333" height="17" font="4">temporaneous record of research <a href="xml/1709.07406v1.html#7">fraud.[22] </a>In examining this</text>
<text top="593" left="477" width="333" height="17" font="4">blog, it is clear that a large proportion of retractions involve</text>
<text top="609" left="477" width="333" height="17" font="4">image fraud. As of 2017/03/31, 512 of the entries in the blog</text>
<text top="626" left="477" width="333" height="17" font="4">are related to image fraud. Improper image preparation occurs</text>
<text top="642" left="477" width="333" height="17" font="4">commonly; some reports suggest that 25% of all submissions</text>
<text top="659" left="477" width="333" height="17" font="4">to journals have improper image pr<a href="xml/1709.07406v1.html#7">eparation.[35] </a>20 years of</text>
<text top="675" left="477" width="333" height="17" font="4">discussing the problem have not reduced the incidence of the</text>
<text top="691" left="477" width="233" height="17" font="4">problem. Different approaches are needed.</text>
<text top="761" left="477" width="21" height="15" font="3">1.4</text>
<text top="761" left="514" width="79" height="15" font="3">Journaling</text>
<text top="780" left="476" width="334" height="17" font="4">Writing code for analysis is a difficult skill. Interactive methods</text>
<text top="797" left="477" width="333" height="17" font="4">for data analysis are preferred by some as being simpler and</text>
<text top="813" left="477" width="333" height="17" font="4">more intuitive. When an analysis is performed by a graphical</text>
<text top="830" left="477" width="335" height="17" font="4">user interface (GUI; a window with buttons and controls),</text>
<text top="846" left="477" width="333" height="17" font="4">this is termed an “interactive approach”. The reproducibility</text>
<text top="863" left="477" width="333" height="17" font="4">of interactive approaches is questioned by many<a href="xml/1709.07406v1.html#7">.[38] </a>That is</text>
<text top="879" left="477" width="333" height="17" font="4">because interactive methods often involve important but small</text>
<text top="895" left="477" width="335" height="17" font="4">decisions, which are often hard to remember and write down.</text>
<text top="912" left="477" width="333" height="17" font="4">Details are difficult to remember correctly. If the interactive</text>
<text top="928" left="477" width="333" height="17" font="4">process is at all involved or complicated, the many decisions</text>
<text top="945" left="476" width="335" height="17" font="4">which are made “on the fly” are difficult to remember later,</text>
<text top="961" left="477" width="333" height="17" font="4">and may be hard to communicate in a scientifically complete</text>
<text top="978" left="477" width="45" height="17" font="4">manner.</text>
<text top="994" left="492" width="318" height="17" font="4">There is a middle ground. In many high-level programs</text>
<text top="1011" left="477" width="336" height="17" font="4">(e.g., <a href="xml/1709.07406v1.html#7">SAS/JMP[17]), </a>the analyst can perform the analysis inter-</text>
<text top="1027" left="477" width="333" height="17" font="4">actively, while the program simultaneously creates code which</text>
<text top="1043" left="477" width="333" height="17" font="4">performs the same analysis. This process of program-created</text>
<text top="1060" left="477" width="333" height="17" font="4">code is termed “journaling”. The journaling process creates a</text>
<text top="1076" left="477" width="333" height="17" font="4">log or record, which can then be used to perform the analysis</text>
</page>
<page number="3" position="absolute" top="0" left="0" height="1188" width="918">
<text top="112" left="108" width="440" height="12" font="4">Having your cake and eating it too: Scripted workflows for image manipulation</text>
<text top="112" left="600" width="265" height="12" font="4">Conference’17, July 2017, Washington, DC, USA</text>
<text top="149" left="108" width="335" height="17" font="4">again. This is available in some but not all interactive analy-</text>
<text top="165" left="108" width="335" height="17" font="4">sis programs. It is available in R using the “analysis history”</text>
<text top="182" left="108" width="46" height="17" font="4">to<a href="xml/1709.07406v1.html#7">ol.[10]</a></text>
<text top="198" left="123" width="320" height="17" font="4">A “journaling” approach to image processing is needed.</text>
<text top="215" left="108" width="333" height="17" font="4">In the SWIIM project, several approaches to journaling are</text>
<text top="231" left="108" width="335" height="17" font="4">being implemented. The project is creating such an image-</text>
<text top="248" left="108" width="333" height="17" font="4">manipulation journaling tool by working with open-source</text>
<text top="264" left="108" width="335" height="17" font="4">tools, to produce an executable log (the journal) of the anal-</text>
<text top="281" left="108" width="333" height="17" font="4">ysis performed using the tool. The GIMP program will be</text>
<text top="297" left="108" width="333" height="17" font="4">enhanced to perform a journaling function, by adding code to</text>
<text top="313" left="108" width="333" height="17" font="4">the program. With the R system, a set of tools will be added to</text>
<text top="330" left="108" width="335" height="17" font="4">the existing methods to perform programmatic image analysis.</text>
<text top="346" left="108" width="278" height="17" font="4">In both cases, the modifications will allow the user</text>
<text top="366" left="132" width="310" height="17" font="4">(1) to examine what specifically was done with the image;</text>
<text top="382" left="132" width="310" height="17" font="4">(2) to perform the same modifications when “replayed”</text>
<text top="398" left="154" width="144" height="17" font="4">on the original image; and</text>
<text top="415" left="132" width="309" height="17" font="4">(3) to step through the modifications to examine them in</text>
<text top="431" left="154" width="33" height="17" font="4">detail.</text>
<text top="451" left="123" width="320" height="17" font="4">Fraudulent and inappropriate image manipulation is a seri-</text>
<text top="467" left="108" width="333" height="17" font="4">ous problem in science. The use of interactive methods makes</text>
<text top="484" left="108" width="333" height="17" font="4">it very difficult to provide a clear tracking of all processes</text>
<text top="500" left="108" width="335" height="17" font="4">performed on an image. A methodology which performs im-</text>
<text top="516" left="108" width="333" height="17" font="4">age manipulation using scripting can provide transparency</text>
<text top="533" left="108" width="333" height="17" font="4">in processing, but this is difficult to learn and use. The best</text>
<text top="549" left="108" width="333" height="17" font="4">approach to improve reproducibility of image manipulation</text>
<text top="566" left="108" width="333" height="17" font="4">is a journaling approach where valid operations performed</text>
<text top="582" left="108" width="333" height="17" font="4">interactively would produce code. The code could be run to</text>
<text top="599" left="108" width="333" height="17" font="4">produce the same result, and the code could be examined to</text>
<text top="615" left="108" width="135" height="17" font="4">see what had been done.</text>
<text top="648" left="108" width="8" height="15" font="3">2</text>
<text top="648" left="133" width="81" height="15" font="3">METHODS</text>
<text top="667" left="108" width="333" height="17" font="4">The SWIIM project is designed to generate workflows from</text>
<text top="684" left="108" width="333" height="17" font="4">popular image manipulation tools. Two basic approaches are</text>
<text top="700" left="108" width="100" height="17" font="4">used in this effort:</text>
<text top="719" left="132" width="311" height="17" font="4">(1) GIMP: modify an existing open-source image manipu-</text>
<text top="736" left="154" width="287" height="17" font="4">lation tool to journal, or produce an active log which</text>
<text top="752" left="154" width="129" height="17" font="4">can manipulate images.</text>
<text top="769" left="132" width="309" height="17" font="4">(2) R: use open-source tools in the R system to manipulate</text>
<text top="785" left="154" width="91" height="17" font="4">images in a GUI.</text>
<text top="804" left="123" width="318" height="17" font="4">Contemporary image manipulation toolkits include a large</text>
<text top="821" left="108" width="333" height="17" font="4">number of functions, many of which are strictly æsthetic, and</text>
<text top="837" left="108" width="333" height="17" font="4">inappropriate for the preparation of scientific images. The</text>
<text top="854" left="108" width="333" height="17" font="4">SWIIM project will concentrate on the journaling process for</text>
<text top="870" left="108" width="138" height="17" font="4">the following operations:</text>
<text top="889" left="132" width="274" height="17" font="4">(1) Import files with formats of jpg, tiff, png, bmp</text>
<text top="906" left="132" width="160" height="17" font="4">(2) Rotate image 90, 180, 270</text>
<text top="922" left="132" width="311" height="17" font="4">(3) Flip image through 3rd dimension (vertical, horizon-</text>
<text top="939" left="154" width="18" height="17" font="4">tal)</text>
<text top="955" left="132" width="86" height="17" font="4">(4) Crop image</text>
<text top="972" left="132" width="248" height="17" font="4">(5) Brightness-contrast adjustment on image</text>
<text top="988" left="132" width="216" height="17" font="4">(6) Color balance adjustment on image</text>
<text top="1004" left="132" width="270" height="17" font="4">(7) Threshold adjustment and histogram balance</text>
<text top="1021" left="132" width="309" height="17" font="4">(8) Meld images (insert one image into another) with</text>
<text top="1037" left="154" width="42" height="17" font="4">borders</text>
<text top="1054" left="132" width="206" height="17" font="4">(9) Hue (red, blue, green) adjustment</text>
<text top="1070" left="126" width="275" height="17" font="4">(10) Export file with formats of jpg, tiff, png, bmp</text>
<text top="150" left="477" width="21" height="15" font="3">2.1</text>
<text top="150" left="514" width="139" height="15" font="3">Application: GIMP</text>
<text top="170" left="477" width="333" height="17" font="4">GIMP is a full-featured image manipulation and modification</text>
<text top="186" left="477" width="335" height="17" font="4">program which can perform many types of image manipula-</text>
<text top="202" left="477" width="333" height="17" font="4">tions, including all scientific image <a href="xml/1709.07406v1.html#7">manipulations.[40] </a>GIMP</text>
<text top="219" left="477" width="335" height="17" font="4">processing involves using a GUI which allows images to be im-</text>
<text top="235" left="477" width="333" height="17" font="4">ported, manipulated, modified, and altered, and then saved in</text>
<text top="252" left="477" width="335" height="17" font="4">a variety of output formats. The functions for image manipula-</text>
<text top="268" left="477" width="333" height="17" font="4">tion can be invoked by clicking buttons, selecting items from</text>
<text top="285" left="477" width="333" height="17" font="4">pull-down lists, or typing keys. In addition, a full-featured</text>
<text top="301" left="477" width="333" height="17" font="4">scripting language (script-fu) can be used to construct scripted</text>
<text top="318" left="477" width="188" height="17" font="4">programs for image manipulation.</text>
<text top="334" left="492" width="318" height="17" font="4">GIMP is written in <a href="xml/1709.07406v1.html#7">C.[40] </a>A journaling function will be</text>
<text top="350" left="477" width="333" height="17" font="4">added by modifying GIMP source code <a href="xml/1709.07406v1.html#7">([2] [29] [28]) </a>or by</text>
<text top="367" left="477" width="333" height="17" font="4">creating a “plug-in”. In GIMP, the “parasite” system is being</text>
<text top="383" left="477" width="333" height="17" font="4">used to retain the sequence of actions which have been applied</text>
<text top="400" left="477" width="333" height="17" font="4">to a given image on the way from input to export. The parasite</text>
<text top="416" left="477" width="333" height="17" font="4">system allows the user to associate an arbitrary string to an</text>
<text top="433" left="477" width="335" height="17" font="4">image or processing session. At a specific point in the process-</text>
<text top="449" left="477" width="333" height="17" font="4">ing, the information in the “parasite” system can be recovered</text>
<text top="465" left="477" width="333" height="17" font="4">and used to create the journal for the process, and this journal</text>
<text top="482" left="477" width="335" height="17" font="4">can be saved to an output file. The process involves determin-</text>
<text top="498" left="477" width="333" height="17" font="4">ing the exact actions which occurred, as well as determining</text>
<text top="515" left="477" width="333" height="17" font="4">the values of indexes or locations used in the process. This</text>
<text top="531" left="477" width="333" height="17" font="4">requires determining where key strokes and button selections</text>
<text top="548" left="477" width="336" height="17" font="4">(which had led to a specific modification point) are processed.</text>
<text top="564" left="476" width="334" height="17" font="4">Additionally, the values of selections (i.e., sliders, verniers)</text>
<text top="581" left="477" width="333" height="17" font="4">must recovered. Creating this kind of code-generating add-on</text>
<text top="597" left="477" width="335" height="17" font="4">or addition to GIMP is an objective of the GIMP community,</text>
<text top="613" left="477" width="275" height="17" font="4">and has support from developers and maintainers.</text>
<text top="630" left="492" width="320" height="17" font="4">A code system is needed to provide the journaling func-</text>
<text top="646" left="477" width="333" height="17" font="4">tion for the interactive manipulations. There are two which</text>
<text top="663" left="477" width="333" height="17" font="4">are being set up in GIMP. These are basically 2 code systems</text>
<text top="679" left="476" width="336" height="17" font="4">which will be used for the GIMP component. First, the Im-</text>
<text top="696" left="477" width="333" height="17" font="4">ageMagick system, a function-base graphics to<a href="xml/1709.07406v1.html#7">olset[20] </a>will</text>
<text top="712" left="477" width="335" height="17" font="4">be used. ImageMagick has well-defined functions which per-</text>
<text top="728" left="477" width="333" height="17" font="4">form each of the actions defined above. For a more faithful</text>
<text top="745" left="477" width="333" height="17" font="4">and complete emulation of code to the interactive process, the</text>
<text top="761" left="477" width="333" height="17" font="4">script-fu system will be employed. This is a stand-alone GIMP</text>
<text top="778" left="477" width="333" height="17" font="4">language which is used to write <a href="xml/1709.07406v1.html#7">scripts[13][14] </a>ImageMagick</text>
<text top="794" left="477" width="335" height="17" font="4">is somewhat less complicated and difficult than is script-fu,</text>
<text top="811" left="476" width="334" height="17" font="4">which is a fully-featured programming language. By using</text>
<text top="827" left="477" width="333" height="17" font="4">ImageMagick code, simple and equivalent modifications can</text>
<text top="844" left="477" width="333" height="17" font="4">be made to images. The advantage of this approach is that</text>
<text top="860" left="477" width="333" height="17" font="4">ImageMagick can be used to do a proof of concept, which will</text>
<text top="876" left="477" width="333" height="17" font="4">be followed up by script-fu over time. While ImageMagick</text>
<text top="893" left="477" width="335" height="17" font="4">can perform functions which are equivalent to those in GIMP,</text>
<text top="909" left="477" width="335" height="17" font="4">script-fu will perform functions which are exactly the same.</text>
<text top="926" left="477" width="335" height="17" font="4">Using script-fu functions will produce an exact match of im-</text>
<text top="942" left="477" width="333" height="17" font="4">ages. Using ImageMagick will produce a visually equivalent</text>
<text top="959" left="477" width="298" height="17" font="4">image, but the image will not match on the pixel level.</text>
<text top="1024" left="477" width="21" height="15" font="3">2.2</text>
<text top="1024" left="514" width="156" height="15" font="3">Application: R/Shiny</text>
<text top="1043" left="477" width="333" height="17" font="4">The R system is a general-purpose system of statistical, data</text>
<text top="1060" left="477" width="335" height="17" font="4">management, and data display techniques. It is open-source,</text>
<text top="1076" left="477" width="332" height="17" font="4">and is produced by a number of different contributors <a href="xml/1709.07406v1.html#7">([10]).</a></text>
</page>
<page number="4" position="absolute" top="0" left="0" height="1188" width="918">
<text top="112" left="53" width="265" height="12" font="4">Conference’17, July 2017, Washington, DC, USA</text>
<text top="112" left="724" width="86" height="12" font="4">Thompson et al</text>
<text top="618" left="367" width="184" height="13" font="4">Figure 1: GIMP Window Setup</text>
<text top="657" left="123" width="320" height="17" font="4">The R system has the Shiny GUI building application <a href="xml/1709.07406v1.html#7">([37]).</a></text>
<text top="673" left="108" width="333" height="17" font="4">Using Shiny, a GUI can be built with buttons, controls, and</text>
<text top="690" left="108" width="333" height="17" font="4">menus to control processes. The processes controlled here are</text>
<text top="706" left="108" width="333" height="17" font="4">image analysis and image manipulation processes. The tool</text>
<text top="723" left="108" width="336" height="17" font="4">which is being constructed is called ShinyImage. For image ma-</text>
<text top="739" left="108" width="334" height="17" font="4">nipulation, the ShinyImage tool uses the EBImage to<a href="xml/1709.07406v1.html#7">olkit([26])</a></text>
<text top="755" left="108" width="333" height="17" font="4">for image processing. Performing operations involves using</text>
<text top="772" left="108" width="333" height="17" font="4">the GUI to select an operation, executing that operation on the</text>
<text top="788" left="108" width="335" height="17" font="4">image, and reflecting the change in the image in the Shiny GUI.</text>
<text top="805" left="108" width="333" height="17" font="4">The journaling process involves writing the commands to a</text>
<text top="821" left="108" width="333" height="17" font="4">journaling log file. The log file can be examined for a record of</text>
<text top="838" left="108" width="335" height="17" font="4">the processing, and executed to perform the operations again.</text>
<text top="888" left="108" width="8" height="15" font="3">3</text>
<text top="888" left="133" width="162" height="15" font="3">STATUS OF PROJECT</text>
<text top="908" left="108" width="336" height="17" font="4">The SWIIM project is coming to the end of the first year.</text>
<text top="924" left="108" width="331" height="17" font="4">Progress been made, but the modifications are not complete.</text>
<text top="975" left="108" width="21" height="15" font="3">3.1</text>
<text top="975" left="145" width="212" height="15" font="3">Developments to date: GIMP</text>
<text top="994" left="132" width="309" height="17" font="4">(1) Full compile has been achieved. This requires that all</text>
<text top="1011" left="154" width="235" height="17" font="4">supporting programs and files be obtained.</text>
<text top="1027" left="132" width="311" height="17" font="4">(2) The location of “open file” operation has been identi-</text>
<text top="1043" left="154" width="287" height="17" font="4">fied. File name has been written to an ImageMagick</text>
<text top="1060" left="154" width="287" height="17" font="4">file. The separate file can be processed to modify the</text>
<text top="1076" left="154" width="36" height="17" font="4">image.</text>
<text top="657" left="501" width="311" height="17" font="4">(3) The location of the “crop” operation has been identi-</text>
<text top="673" left="523" width="287" height="17" font="4">fied and this has been translated into ImageMagick</text>
<text top="690" left="523" width="143" height="17" font="4">code, and written to a file.</text>
<text top="706" left="501" width="309" height="17" font="4">(4) The location of the “brightness-contrast” operation</text>
<text top="723" left="523" width="287" height="17" font="4">has been identified and this has been translated into</text>
<text top="739" left="523" width="287" height="17" font="4">ImageMagick code, and written to a file. The different</text>
<text top="755" left="523" width="287" height="17" font="4">systems use different values for the brightness and</text>
<text top="772" left="523" width="287" height="17" font="4">contrast modifications, but this has been correctly</text>
<text top="788" left="523" width="43" height="17" font="4">aligned.</text>
<text top="805" left="501" width="309" height="17" font="4">(5) The location of the “hue” modification operation has</text>
<text top="821" left="523" width="289" height="17" font="4">been identified and this has been translated into Im-</text>
<text top="838" left="523" width="287" height="17" font="4">ageMagick code, and written to a file. The different</text>
<text top="854" left="523" width="287" height="17" font="4">systems use different values for the brightness and</text>
<text top="871" left="523" width="287" height="17" font="4">contrast modifications, but this has been correctly</text>
<text top="887" left="523" width="43" height="17" font="4">aligned.</text>
<text top="903" left="501" width="311" height="17" font="4">(6) The location of “export file” operation has been iden-</text>
<text top="920" left="523" width="287" height="17" font="4">tified. File name has been written to an ImageMagick</text>
<text top="936" left="523" width="20" height="17" font="4">file.</text>
<text top="953" left="501" width="208" height="17" font="4">(7) The files produced are equivalent.</text>
<text top="972" left="477" width="331" height="17" font="4">The code to perform simple operations is shown in Figure <a href="xml/1709.07406v1.html#4">3.</a></text>
<text top="1075" left="559" width="170" height="13" font="4">Figure 3: ImageMagick code</text>
</page>
<page number="5" position="absolute" top="0" left="0" height="1188" width="918">
<text top="112" left="108" width="440" height="12" font="4">Having your cake and eating it too: Scripted workflows for image manipulation</text>
<text top="112" left="600" width="265" height="12" font="4">Conference’17, July 2017, Washington, DC, USA</text>
<text top="556" left="380" width="157" height="13" font="4">Figure 2: ShinyImage GUI</text>
<text top="597" left="108" width="21" height="15" font="3">3.2</text>
<text top="597" left="145" width="181" height="15" font="3">Developments to date: R</text>
<text top="616" left="108" width="333" height="17" font="4">The ShinyImage tool has been initiated and the basic GUI set</text>
<text top="632" left="108" width="225" height="17" font="4">up. The following steps have been taken:</text>
<text top="706" left="132" width="311" height="17" font="4">(1) ShinyImage, a prototype image manipulation inter-</text>
<text top="723" left="154" width="289" height="17" font="4">face, has been developed. Figure <a href="xml/1709.07406v1.html#5">2 </a>shows the Shiny-</text>
<text top="739" left="154" width="62" height="17" font="4">Image GUI.</text>
<text top="756" left="132" width="311" height="17" font="4">(2) The basic representation approach has been deter-</text>
<text top="772" left="154" width="134" height="17" font="4">mined (use of EBImage).</text>
<text top="789" left="132" width="311" height="17" font="4">(3) The crop, contrast adjustment, and undo/redo opera-</text>
<text top="805" left="154" width="287" height="17" font="4">tions have been implemented. All changed versions</text>
<text top="821" left="154" width="143" height="17" font="4">of the image are recorded.</text>
<text top="838" left="132" width="309" height="17" font="4">(4) The user interface is incomplete, and we will be adding</text>
<text top="854" left="154" width="287" height="17" font="4">pull-down menus, online help, more flexible display</text>
<text top="871" left="154" width="290" height="17" font="4">(e.g. several versions of the image displayed side-by-</text>
<text top="887" left="154" width="85" height="17" font="4">side) and so on.</text>
<text top="904" left="132" width="311" height="17" font="4">(5) Additional image processing operations will be added.</text>
<text top="920" left="154" width="288" height="17" font="4">To accommodate larger images, some capability of</text>
<text top="937" left="154" width="182" height="17" font="4">parallel processing will be added.</text>
<text top="953" left="132" width="309" height="17" font="4">(6) EBImage code is used as the scripting language. The</text>
<text top="969" left="154" width="287" height="17" font="4">EBImage code can either perform the manipulation</text>
<text top="986" left="154" width="287" height="17" font="4">on the image, or work through the GUI. The code is</text>
<text top="1002" left="154" width="278" height="17" font="4">saved in a file during the operation of ShinyImage.</text>
<text top="1076" left="108" width="330" height="17" font="4">An example of EBImage scripting code is shown in Figure <a href="xml/1709.07406v1.html#5">4.</a></text>
<text top="697" left="572" width="142" height="13" font="4">Figure 4: EBImage code</text>
<text top="748" left="477" width="21" height="15" font="3">3.3</text>
<text top="748" left="514" width="146" height="15" font="3">Plans for the future</text>
<text top="767" left="477" width="333" height="17" font="4">The SWIIM project has made good progress to date. The GIMP</text>
<text top="784" left="477" width="335" height="17" font="4">track has set up ImageMagick code to perform the same tasks.</text>
<text top="800" left="477" width="333" height="17" font="4">The next step is to devise script-fu code to perform the same</text>
<text top="817" left="477" width="335" height="17" font="4">processes. Script-fu is more complex than is ImageMagick.</text>
<text top="833" left="477" width="333" height="17" font="4">For the R track, the process needs to be finished to perform</text>
<text top="850" left="477" width="167" height="17" font="4">the basic tasks on the task list.</text>
<text top="886" left="477" width="21" height="15" font="3">3.4</text>
<text top="886" left="514" width="107" height="15" font="3">Support status</text>
<text top="905" left="477" width="333" height="17" font="4">The SWIIM project has been supported by grants from ORI</text>
<text top="922" left="477" width="333" height="17" font="4">(ORI2016000141 and ORI2017000232). Support is in place until</text>
<text top="938" left="477" width="231" height="17" font="4">2018, with a contingent extension to 2019.</text>
<text top="975" left="477" width="8" height="15" font="3">4</text>
<text top="975" left="502" width="115" height="15" font="3">CONCLUSIONS</text>
<text top="994" left="477" width="333" height="17" font="4">Image manipulation is performed interactively in most cases</text>
<text top="1011" left="477" width="333" height="17" font="4">for scientific images. This is not an optimal situation. The</text>
<text top="1027" left="477" width="333" height="17" font="4">prevalance of image fraud is high. Image fraud may occur due</text>
<text top="1043" left="477" width="333" height="17" font="4">to ignorance, but it also seems to occur because images do</text>
<text top="1060" left="477" width="333" height="17" font="4">not agree with the conclusions that they “wish” to draw. As</text>
<text top="1076" left="477" width="333" height="17" font="4">image manipulation is done in a non-transparent, interactive</text>
</page>
<page number="6" position="absolute" top="0" left="0" height="1188" width="918">
<text top="112" left="53" width="265" height="12" font="4">Conference’17, July 2017, Washington, DC, USA</text>
<text top="112" left="724" width="86" height="12" font="4">Thompson et al</text>
<text top="149" left="108" width="333" height="17" font="4">manner, fraud is common, since some scientists clearly appear</text>
<text top="165" left="108" width="234" height="17" font="4">to believe that they can “get away with it”.</text>
<text top="182" left="123" width="318" height="17" font="4">The SWIIM project intends to improve the manipulation</text>
<text top="198" left="108" width="333" height="17" font="4">of images, and to reduce the incidence of image fraud. The</text>
<text top="215" left="108" width="335" height="17" font="4">project is modifying existing image manipulation tools (i.e.,</text>
<text top="231" left="108" width="333" height="17" font="4">GIMP) to produce a “journal”, a log of the modification process</text>
<text top="248" left="108" width="334" height="17" font="4">which is also executable. A journal (an executable log) which</text>
<text top="264" left="108" width="335" height="17" font="4">performs the same functions as can be done interactively in-</text>
<text top="281" left="108" width="333" height="17" font="4">troduces transparency into the process. Transparent processes</text>
<text top="297" left="108" width="335" height="17" font="4">promote honest behavior. In addition, the journal is executable.</text>
<text top="313" left="108" width="333" height="17" font="4">Reviewers can, if they wish, run the journal, and see that the</text>
<text top="330" left="108" width="335" height="17" font="4">image intended for publication comes from the source image.</text>
<text top="346" left="108" width="333" height="17" font="4">This should have the effect of encouraging more appropriate</text>
<text top="363" left="108" width="333" height="17" font="4">behavior. In addition, editors of scientific journals can ask the</text>
<text top="379" left="108" width="333" height="17" font="4">author of submitted manuscripts to produce these executable</text>
<text top="396" left="108" width="81" height="17" font="4">journaled logs.</text>
<text top="412" left="123" width="318" height="17" font="4">The R approach is a different, but equally valuable, approach</text>
<text top="428" left="108" width="333" height="17" font="4">to the same problem. Many scientists work with R, but do</text>
<text top="445" left="108" width="335" height="17" font="4">not have a convenient method to employ scripted image tools.</text>
<text top="461" left="108" width="333" height="17" font="4">By providing a method to use the scripted tools in a GUI, but</text>
<text top="478" left="108" width="333" height="17" font="4">producing a journal log for later re-use or examination, the R</text>
<text top="494" left="108" width="333" height="17" font="4">user can extend the ability of the R system to handle image</text>
<text top="511" left="108" width="76" height="17" font="4">manipulation.</text>
<text top="527" left="123" width="320" height="17" font="4">Scientists can use scripted methods to perform image ma-</text>
<text top="544" left="108" width="333" height="17" font="4">nipulation with ImageMagick, EBImage, script-fu, or other</text>
<text top="560" left="108" width="333" height="17" font="4">scripted tools. This is not common, however. ImageMagick</text>
<text top="576" left="108" width="333" height="17" font="4">is not difficult to learn, but there is a learning curve. Image</text>
<text top="593" left="108" width="335" height="17" font="4">manipulation is not intuitively done using scripted commands.</text>
<text top="609" left="108" width="333" height="17" font="4">Cropping a region (selecting a sub-region in the image) can</text>
<text top="626" left="108" width="335" height="17" font="4">be done with a scripted command, but this is not obvious,</text>
<text top="642" left="108" width="335" height="17" font="4">because the image is difficult to visualize in terms of pixels.</text>
<text top="659" left="108" width="277" height="17" font="4">Interactive methods are much easier to work with.</text>
<text top="675" left="123" width="320" height="17" font="4">The journal is a workflow. Thus, the modified image ma-</text>
<text top="691" left="108" width="335" height="17" font="4">nipulation GIMP tool is a workflow generator. ShinyImage,</text>
<text top="708" left="108" width="333" height="17" font="4">a newly constructed image manipulation tool, performs the</text>
<text top="724" left="108" width="333" height="17" font="4">image manipulation process with the same workflow as is</text>
<text top="741" left="108" width="333" height="17" font="4">saved. Reproducible AND transparent image manipulation</text>
<text top="757" left="108" width="333" height="17" font="4">is possible only with scripts/workflows. By producing the</text>
<text top="774" left="108" width="335" height="17" font="4">script/workflow (the journal log) as a consequence of the edit-</text>
<text top="790" left="108" width="333" height="17" font="4">ing operation, the best of both worlds is retained. You can</text>
<text top="807" left="108" width="162" height="17" font="4">have your cake and eat it too.</text>
</page>
<page number="7" position="absolute" top="0" left="0" height="1188" width="918">
<text top="112" left="108" width="440" height="12" font="4">Having your cake and eating it too: Scripted workflows for image manipulation</text>
<text top="112" left="600" width="265" height="12" font="4">Conference’17, July 2017, Washington, DC, USA</text>
<text top="150" left="108" width="104" height="15" font="3">REFERENCES</text>
<text top="168" left="113" width="328" height="14" font="6">[1] Keith A Baggerly. 2011. The Importance of Reproducible Research in</text>
<text top="180" left="133" width="97" height="14" font="6">Genomics. In MCMSki.</text>
<text top="192" left="113" width="329" height="14" font="6">[2] Simon Budig. 2016. Script Âŋ Fu and plug Âŋ ins for The GIMP. (2016),</text>
<text top="204" left="133" width="34" height="14" font="6">2 pages.</text>
<text top="216" left="113" width="330" height="14" font="6">[3] J. Couzin. 2006. Scientific publishing. Don’t pretty up that picture just yet.</text>
<text top="230" left="133" width="30" height="10" font="6">Science</text>
<text top="228" left="165" width="277" height="14" font="6">314, 5807 (dec 2006), 1866–8. <a href="https://doi.org/10.1126/science.314.5807.1866">https://doi.org/10.1126/science.314.</a></text>
<text top="240" left="133" width="41" height="14" font="6"><a href="https://doi.org/10.1126/science.314.5807.1866">5807.1866</a></text>
<text top="252" left="113" width="328" height="14" font="6">[4] Douglas W Cromey. 2010. Avoiding twisted pixels: ethical guidelines for</text>
<text top="264" left="133" width="308" height="14" font="6">the appropriate use and manipulation of scientific digital images. Science</text>
<text top="278" left="133" width="93" height="10" font="6">and engineering ethics</text>
<text top="276" left="229" width="213" height="14" font="6">16, 4 (dec 2010), 639–667. <a href="https://doi.org/10.1007/s11948-010-9201-y">https://doi.org/10.1007/</a></text>
<text top="287" left="133" width="81" height="14" font="6"><a href="https://doi.org/10.1007/s11948-010-9201-y">s11948-010-9201-y</a></text>
<text top="299" left="113" width="328" height="14" font="6">[5] David L Donoho. 2010. An invitation to reproducible computational</text>
<text top="311" left="133" width="309" height="14" font="6">research. Biostatistics 11, 3 (2010), 385–388. <a href="https://doi.org/10.1093/biostatistics/kxq028">https://doi.org/10.1093/</a></text>
<text top="323" left="133" width="84" height="14" font="6"><a href="https://doi.org/10.1093/biostatistics/kxq028">biostatistics/kxq028</a></text>
<text top="335" left="113" width="328" height="14" font="6">[6] Nature Cell Biology Editorial. 2006. Appreciating data: warts, wrinkles</text>
<text top="347" left="133" width="310" height="14" font="6">and all. Nature Cell Biology 8, 3 (mar 2006), 203–203. <a href="https://doi.org/10.1038/ncb0306-203a">https://doi.org/10.</a></text>
<text top="359" left="132" width="81" height="14" font="6"><a href="https://doi.org/10.1038/ncb0306-203a">1038/ncb0306-203a</a></text>
<text top="371" left="113" width="328" height="14" font="6">[7] Nature Cell Biology Editorial. 2006. Beautification and fraud. Nature Cell</text>
<text top="386" left="133" width="31" height="10" font="6">Biology</text>
<text top="383" left="167" width="259" height="14" font="6">8, 2 (feb 2006), 101–102. <a href="https://doi.org/10.1038/ncb0206-101">https://doi.org/10.1038/ncb0206-101</a></text>
<text top="395" left="113" width="330" height="14" font="6">[8] Nature Editors. 2016. Instructions for authors: Image integrity and stan-</text>
<text top="407" left="133" width="114" height="14" font="6">dards. (2016), 10–11 pages.</text>
<text top="419" left="113" width="329" height="14" font="6">[9] Tiago Ferreira and Wayne Rasband. 2012. ImageJ User Guide. (2012),</text>
<text top="431" left="132" width="269" height="14" font="6">187 pages. <a href="https://doi.org/10.1038/nmeth.2019">https://doi.org/10.1038/nmeth.2019 </a><a href="http://arxiv.org/abs/1081-8693">arXiv:1081-8693</a></text>
<text top="443" left="108" width="335" height="14" font="6">[10] The R Foundation. [n. d.]. The R Project for Statistical Computing. ([n.</text>
<text top="455" left="133" width="17" height="14" font="6">d.]).</text>
<text top="467" left="108" width="333" height="14" font="6">[11] Christopher Gandrud. 2013. Reproducible Research with R and RStudio (2nd</text>
<text top="479" left="133" width="205" height="14" font="6">ed.). Taylor &amp; Francis Ltd, Boca Raton, FL, USA.</text>
<text top="491" left="108" width="333" height="14" font="6">[12] Yolanda Gil, Ewa Deelman, Mark Ellisman, Thomas Fahringer, Geoffrey</text>
<text top="503" left="133" width="308" height="14" font="6">Fox, Dennis Gannon, Carole Goble, Miron Livny, Luc Moreau, and Jim</text>
<text top="515" left="133" width="308" height="14" font="6">Myers. 2007. Examining the Challenges of Scientific Workflows. Computer</text>
<text top="527" left="132" width="261" height="14" font="6">40, 12 (dec 2007), 24–32. <a href="https://doi.org/10.1109/MC.2007.421">https://doi.org/10.1109/MC.2007.421</a></text>
<text top="539" left="108" width="334" height="14" font="6">[13] Nathan A Good. 2011. Use Python to write plug-ins for GIMP. (2011),</text>
<text top="550" left="132" width="39" height="14" font="6">10 pages.</text>
<text top="562" left="108" width="330" height="14" font="6">[14] James Henstridge. 2016. GIMP Python Documentation. (2016), 14 pages.</text>
<text top="574" left="108" width="335" height="14" font="6">[15] David Hollingsworth. 1995. Workflow Management Coalition The Work-</text>
<text top="586" left="133" width="167" height="14" font="6">flow Reference Model. (1995), 55 pages.</text>
<text top="598" left="108" width="274" height="14" font="6">[16] Adobe Inc. [n. d.]. (1995-2016). Adobe Photoshop. ([n. d.]).</text>
<text top="610" left="108" width="335" height="14" font="6">[17] SAS Institute Inc. 2015. JMP Version 12 Scripting Guide. Number October.</text>
<text top="622" left="133" width="66" height="14" font="6">Cary, NC, USA.</text>
<text top="634" left="108" width="335" height="14" font="6">[18] John P A Ioannidis. 2005. Why most published research findings are false.</text>
<text top="649" left="133" width="59" height="10" font="6">PLoS Medicine</text>
<text top="646" left="195" width="248" height="14" font="6">2, 8 (aug 2005), 0696–0701. <a href="https://doi.org/10.1371/journal.pmed.0020124">https://doi.org/10.1371/journal.</a></text>
<text top="658" left="133" width="149" height="14" font="6"><a href="https://doi.org/10.1371/journal.pmed.0020124">pmed.0020124 </a><a href="http://arxiv.org/abs/gr-qc/0208024">arXiv:gr-qc/0208024</a></text>
<text top="670" left="108" width="335" height="14" font="6">[19] John P A Ioannidis. 2014. How to make more published research true.</text>
<text top="685" left="133" width="43" height="10" font="6">PLoS Med.</text>
<text top="682" left="178" width="114" height="14" font="6">11, 10 (oct 2014), e1001747.</text>
<text top="694" left="108" width="320" height="14" font="6">[20] ImageMagick Studio LLC. [n. d.]. (1999-2016). ImageMagick. ([n. d.]).</text>
<text top="706" left="108" width="335" height="14" font="6">[21] Carol M Lushbough, Douglas M Jennewein, and Volker P Brendel. 2011.</text>
<text top="718" left="132" width="310" height="14" font="6">The BioExtract Server : a web-based bioinformatic workflow platform.</text>
<text top="732" left="133" width="93" height="10" font="6">Nucleic acids research</text>
<text top="730" left="228" width="214" height="14" font="6">39, May (2011), 528–532. <a href="https://doi.org/10.1093/nar/gkr286">https://doi.org/10.1093/</a></text>
<text top="742" left="133" width="47" height="14" font="6"><a href="https://doi.org/10.1093/nar/gkr286">nar/gkr286</a></text>
<text top="754" left="108" width="334" height="14" font="6">[22] Adam Marcus and Ivan Oransky. [n. d.]. (2009-2016). Retraction Watch:</text>
<text top="766" left="132" width="295" height="14" font="6">Tracking retractions as a window into the scientific process. ([n. d.]).</text>
<text top="778" left="108" width="333" height="14" font="6">[23] Scott E Maxwell, Michael Y Lau, George S Howard, and E Scott. 2012. Is</text>
<text top="790" left="133" width="308" height="14" font="6">Psychology Suffering From a Replication Crisis? American Psychologist</text>
<text top="802" left="132" width="90" height="14" font="6">70, 6 (2012), 487–498.</text>
<text top="814" left="108" width="335" height="14" font="6">[24] Anthony Newman. 2013. The art of detecting data and image manipulation.</text>
<text top="825" left="132" width="65" height="14" font="6">(2013), 5 pages.</text>
<text top="837" left="108" width="334" height="14" font="6">[25] Council of Science Editors. 2016. 3.4 Digital Images and Misconduct. (2016),</text>
<text top="849" left="133" width="34" height="14" font="6">8 pages.</text>
<text top="861" left="108" width="334" height="14" font="6">[26] Andrzej Oleś, Gregoire Pau, Mike Smith, Oleg Sklyar, Wolfgang Huber,</text>
<text top="873" left="132" width="290" height="14" font="6">Joseph Barry, and Philip A Marais. 2017. Package ’EBImage’. (2017).</text>
<text top="885" left="108" width="333" height="14" font="6">[27] Debra Parrish and Bridget Noonan. 2009. Image manipulation as research</text>
<text top="897" left="133" width="310" height="14" font="6">misconduct. Science and Engineering Ethics 15, 2 (jun 2009), 161–167.</text>
<text top="909" left="133" width="179" height="14" font="6"><a href="https://doi.org/10.1007/s11948-008-9108-z">https://doi.org/10.1007/s11948-008-9108-z</a></text>
<text top="921" left="108" width="330" height="14" font="6">[28] Akkana Peck. 2016. Writing GIMP Scripts and Plug-Ins. (2016), 3 pages.</text>
<text top="933" left="108" width="289" height="14" font="6">[29] Akkana Peck. 2017. Notes on GIMP Scripting. (2017), 5 pages.</text>
<text top="945" left="108" width="333" height="14" font="6">[30] Roger D Peng. 2011. Computational and Policy Tools for Reproducible</text>
<text top="957" left="133" width="281" height="14" font="6">Research. University of British Columbia, Vancouver, BC, Canada.</text>
<text top="969" left="108" width="335" height="14" font="6">[31] Roger D Peng. 2011. Reproducible research in computational science.</text>
<text top="984" left="133" width="100" height="10" font="6">Science (New York, N.Y.)</text>
<text top="981" left="235" width="207" height="14" font="6">334, 6060 (dec 2011), 1226–1227. <a href="https://doi.org/10.1126/science.1213847">https://doi.org/</a></text>
<text top="993" left="132" width="102" height="14" font="6"><a href="https://doi.org/10.1126/science.1213847">10.1126/science.1213847</a></text>
<text top="1005" left="108" width="333" height="14" font="6">[32] Roger D Peng, Francesca Dominici, and Scott L Zeger. 2006. Reproducible</text>
<text top="1017" left="133" width="309" height="14" font="6">epidemiologic research. American journal of epidemiology 163, 9 (may</text>
<text top="1029" left="133" width="216" height="14" font="6">2006), 783–789. <a href="https://doi.org/10.1093/aje/kwj093">https://doi.org/10.1093/aje/kwj093</a></text>
<text top="1041" left="108" width="334" height="14" font="6">[33] Eugenie Samuel Reich. 2011. Cancer trials errors revealed. Nature 469,</text>
<text top="1053" left="132" width="258" height="14" font="6">January (jan 2011), 139–140. <a href="https://doi.org/10.1038/469139a">https://doi.org/10.1038/469139a</a></text>
<text top="1065" left="108" width="335" height="14" font="6">[34] Mike Rossner. 2002. Figure manipulation: assessing what is acceptable.</text>
<text top="1079" left="133" width="110" height="10" font="6">The Journal of Cell Biology</text>
<text top="1077" left="246" width="196" height="14" font="6">158, 7 (sep 2002), 1151. <a href="https://doi.org/10.1083/jcb.200209084">https://doi.org/10.1083/</a></text>
<text top="152" left="502" width="58" height="14" font="6"><a href="https://doi.org/10.1083/jcb.200209084">jcb.200209084</a></text>
<text top="164" left="477" width="333" height="14" font="6">[35] Mike Rossner. 2006. How to guard against image fraud. The Scientist</text>
<text top="176" left="502" width="88" height="14" font="6">March (2006), 24–25.</text>
<text top="188" left="477" width="333" height="14" font="6">[36] Mike Rossner and Kenneth M Yamada. 2004. What’s in a picture? The</text>
<text top="200" left="502" width="308" height="14" font="6">temptation of image manipulation. The Journal of cell biology 166, 1 (jul</text>
<text top="212" left="502" width="218" height="14" font="6">2004), 11–15. <a href="https://doi.org/10.1083/jcb.200406019">https://doi.org/10.1083/jcb.200406019</a></text>
<text top="224" left="477" width="232" height="14" font="6">[37] RStudio. 2016. Shiny Homepage. (2016), 5 pages.</text>
<text top="236" left="477" width="335" height="14" font="6">[38] Geir Kjetil Sandve, Anton Nekrutenko, James Taylor, and Eivind Hovig.</text>
<text top="248" left="502" width="308" height="14" font="6">2013. Ten simple rules for reproducible computational research. PLoS</text>
<text top="262" left="502" width="92" height="10" font="6">computational biology</text>
<text top="259" left="597" width="214" height="14" font="6">9, 10 (oct 2013), e1003285. <a href="https://doi.org/10.1371/journal.pcbi.1003285">https://doi.org/10.1371/</a></text>
<text top="271" left="502" width="87" height="14" font="6"><a href="https://doi.org/10.1371/journal.pcbi.1003285">journal.pcbi.1003285</a></text>
<text top="283" left="477" width="333" height="14" font="6">[39] V. Stodden, F Leisch, and R D Peng. 2014. Implementing reproducible</text>
<text top="298" left="502" width="34" height="10" font="6">research</text>
<text top="295" left="536" width="53" height="14" font="6">. CRC Press.</text>
<text top="307" left="477" width="333" height="14" font="6">[40] GIMP Documentation Team. 2016. GNU Image Manipulation Program User</text>
<text top="322" left="502" width="32" height="10" font="6">Manual</text>
<text top="319" left="534" width="2" height="14" font="6">.</text>
<text top="331" left="477" width="333" height="14" font="6">[41] Paul A Thompson. [n. d.]. Reproducible computational research: The state</text>
<text top="343" left="502" width="185" height="14" font="6">of the art. TBD ([n. d.]), Under Preparation.</text>
<text top="355" left="477" width="335" height="14" font="6">[42] Paul A Thompson and Andrew Burnett. 2012. Reproducible Research.</text>
<text top="370" left="502" width="209" height="10" font="6">CORE Issues in Professional and Research Ethics</text>
<text top="367" left="715" width="96" height="14" font="6">1, 5 (nov 2012), 1–65.</text>
<text top="379" left="502" width="164" height="14" font="6"><a href="https://doi.org/10.1109/MCSE.2010.113">https://doi.org/10.1109/MCSE.2010.113</a></text>
<text top="391" left="477" width="335" height="14" font="6">[43] Patrick Vandewalle, Jelena Kovačević, and Martin Vetterli. 2009. Repro-</text>
<text top="403" left="502" width="309" height="14" font="6">ducible Research in Signal Processing [What, why, and how]. IEEE Trans-</text>
<text top="418" left="502" width="115" height="10" font="6">actions on Signal Processing</text>
<text top="415" left="620" width="94" height="14" font="6">37, May (2009), 37–47.</text>
</page>
<outline>
<item page="1">Abstract</item>
<item page="1">1 Introduction</item>
<outline>
<item page="1">1.1 Workflows in science</item>
<item page="1">1.2 Reproducibility</item>
<item page="2">1.3 Image manipulation</item>
<item page="2">1.4 Journaling</item>
</outline>
<item page="3">2 Methods</item>
<outline>
<item page="3">2.1 Application: GIMP</item>
<item page="3">2.2 Application: R/Shiny</item>
</outline>
<item page="4">3 Status of project</item>
<outline>
<item page="4">3.1 Developments to date: GIMP</item>
<item page="5">3.2 Developments to date: R</item>
<item page="5">3.3 Plans for the future</item>
<item page="5">3.4 Support status</item>
</outline>
<item page="5">4 Conclusions</item>
<item page="7">References</item>
</outline>
</pdf2xml>
